(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),s=(a(20),a(7)),i=a.n(s),l=a(13),h=a(2),u=a(3),m=a(5),f=a(4),p=a(1),d=a(6),g=window.location.hash.substring(1).split("&").reduce(function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e},{});window.location.hash="";var b=g,v=(a(22),"https://api.spotify.com/v1/search?"),k=["user-read-private","user-read-email"],E=(a(23),function(){return c.a.createElement("div",{className:"login-container"},c.a.createElement("h1",{className:"title"},"Kreitech Test"),c.a.createElement("a",{className:"btn",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("7de21a20993e45e3944b3617cea27a7b","&redirect_uri=").concat("https://ioni-dev.github.io/SpotiSearch/index.html","&scope=").concat(k.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"))}),S=(a(10),function(e){var t=e.onSearch,a=e.onSearchChange,n=e.searchField;return c.a.createElement("div",{className:"searchBar"},c.a.createElement("input",{type:"text",className:"search-box",placeholder:"what do you want to search today?",onChange:a}),c.a.createElement("button",{type:"submit",className:"search-btn",onClick:function(){return t(n)}},"Search"))}),C=a(8),y=(a(11),function(e){var t=e.list,a=t.name,n=t.artists,r=t.album,o=Object(C.a)(r.images,1)[0],s=r.release_date,i=Object(C.a)(n,1)[0].name;return c.a.createElement("div",{key:e.i,className:"card-container"},c.a.createElement("img",{src:o.url,style:{height:"180px"},alt:"album"}),c.a.createElement("p",{className:"song-title"},a),c.a.createElement("p",{className:"artist"},i),c.a.createElement("p",{className:"release"},s))}),j=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tracksAvailable,a=e.onPageChange;return 0!==t.length?c.a.createElement("div",null,c.a.createElement("div",{className:"tracks-titles"},t.map(function(e,t){return c.a.createElement(y,{key:t,list:e})})),c.a.createElement("div",{className:"pageBtns"},c.a.createElement("button",{className:"pageBtn nextBtn",onClick:function(){return a("next")}},"next"),c.a.createElement("button",{className:"pageBtn prevBtn",onClick:function(){return a("previous")}},"previous"))):c.a.createElement("h1",null,"No songs, you can start searching!")}}]),t}(c.a.Component),N=function(e){var t=e.onSearch,a=e.onSearchChange,n=e.searchField,r=e.tracksAvailable,o=e.onPageChange;return c.a.createElement("div",{className:"container"},c.a.createElement(S,{onSearch:t,onSearchChange:a,searchField:n}),c.a.createElement(j,{tracksAvailable:r,onPageChange:o}))},O=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).onSearchChange=function(e){e.preventDefault(),a.setState({searchField:e.target.value})},a.onSearch=function(){var e=Object(l.a)(i.a.mark(function e(t){var n,c,r,o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,c=n.searchField,r=n.offset,o=n.token,s="".concat(v,"q=").concat(encodeURIComponent(c),"&type=track&offset=").concat(r),e.next=4,fetch(s,{method:"GET",headers:{Authorization:"Bearer "+o}}).then(function(e){return e.json()}).then(function(e){return a.setState({tracks:e.tracks.items})}).catch(function(e){console.error(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onPageChange=function(e){var t=a.state.offset;"next"===e&&(a.setState({offset:t+=10}),a.onSearch()),"previous"===e&&(a.state.offset>0?(a.setState({offset:t-=10}),a.onSearch()):console.log("offset is already 0"))},a.state={searchField:"",token:null,offset:0,tracks:[]},a.onSearch=a.onSearch.bind(Object(p.a)(a)),a.onSearchChange=a.onSearchChange.bind(Object(p.a)(a)),a.onPageChange=a.onPageChange.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=b.access_token;e&&this.setState({token:e})}},{key:"render",value:function(){var e=this.state.tracks;return c.a.createElement("div",{className:"App"},this.state.token?c.a.createElement(N,{onSearch:this.onSearch,onSearchChange:this.onSearchChange,tracksAvailable:e,onPageChange:this.onPageChange}):c.a.createElement(E,null))}}]),t}(c.a.Component);o.a.render(c.a.createElement(O,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.19659816.chunk.js.map